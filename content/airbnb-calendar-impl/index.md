---
emoji: ğŸ§‘ğŸ»â€ğŸ’»
title: ì—ì–´ë¹„ì•¤ë¹„ ë‹¬ë ¥ì€ ì–´ë–»ê²Œ êµ¬í˜„í• ê¹Œ?
date: '2023-03-05 23:00:00'
author: ì¡°ì´
tags: ê°œë°œ github-pages gatsby
categories: ê°œë°œ
thumbnail: './thumbnail.png'
---

ì—¬ëŸ¬ë¶„ë“¤ì€ ì—¬í–‰ì„ ê°€ì‹¤ ë•Œ ì—ì–´ë¹„ì•¤ë¹„ë¥¼ ì‚¬ìš©í•´ë³¸ ì ì´ ìˆìœ¼ì‹ ê°€ìš”? ì €ëŠ” ì €ë ´í•œ ê°€ê²©ì— ìˆ™ì†Œë¥¼ êµ¬í•˜ê¸° ìœ„í•´ì„œ ì—¬í–‰í•  ë•Œ ì¢…ì¢… ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. í‰ì†Œì— ìì£¼ ì‚¬ìš©í•˜ëŠ” ì—ì–´ë¹„ì•¤ë¹„ì˜ ì˜ˆì•½ ìº˜ë¦°ë”ë¥¼ ë³´ê³  ì‚¬ìš©ìê°€ ì‚¬ìš©í•˜ê¸°ì— ì§ê´€ì ìœ¼ë¡œ ì˜ ë§Œë“¤ì–´ì ¸ ìˆë‹¤ê³  ëŠê¼‡ìŠµë‹ˆë‹¤.

ì—ì–´ë¹„ì•¤ë¹„ì˜ ì˜ˆì•½ ìº˜ë¦°ë”ê°€ ì •í™•íˆ ì–´ë–»ê²Œ ë§Œë“¤ì–´ì ¸ ìˆëŠ”ì§€ëŠ” ì•Œ ìˆ˜ ì—†ì§€ë§Œ, ì œ ë‚˜ë¦„ëŒ€ë¡œ ì¶”ì¸¡í•˜ì—¬ ê¸°ëŠ¥ë“¤ì„ êµ¬í˜„í•´ë³´ì•˜ê³ , ì €ëŠ” ì–´ë–»ê²Œ êµ¬í˜„í•˜ì˜€ëŠ”ì§€ ì„¤ëª…í•˜ëŠ” ì‹œê°„ì„ ê°€ì ¸ë³´ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤.

## ì—ì–´ë¹„ì•¤ë¹„ ìº˜ë¦°ë” ê¸°ëŠ¥

1. ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ , ì˜ˆì•½ì´ ëª¨ë‘ ê°€ëŠ¥í•œ ë‚ , ì˜ˆì•½ì´ ì•ˆë˜ëŠ” ë‚ ì´ êµ¬ë¶„ë˜ë„ë¡ í‘œì‹œ
2. ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì—ëŠ” hoverì‹œ tooltipìœ¼ë¡œ í‘œì‹œ
3. ì˜ˆì•½ ê¸°ê°„ ì‚¬ì´ì— ì´ë¯¸ ì˜ˆì•½ëœ ë‚ ì´ í¬í•¨ë˜ì§€ ëª»í•˜ë„ë¡ ì„¤ì •

> ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•˜ì—¬ react-datepicker, date-fns ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì˜€ìŠµë‹ˆë‹¤.

## ìº˜ë¦°ë” UI

ë³¸ê²©ì ìœ¼ë¡œ ì—ì–´ë¹„ì•¤ë¹„ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ì „ react-datepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ê³¼ UIë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ìœ¼ë¡œ ì²´í¬ì¸ê³¼ ì²´í¬ì•„ì›ƒì„ í´ë¦­í•˜ë©´ ì•„ë˜ì— ë‚ ì§œê°€ ë‚˜ì˜¬ ìˆ˜ ìˆë„ë¡ êµ¬í˜„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ì˜ ì½”ë“œë“¤ì€ ì•„ë˜ì— ì²¨ë¶€í•´ë“œë¦´ ì˜ˆì •ì´ë‹ˆ í•„ìš”í•˜ì‹  ë¶„ë“¤ì€ ì‚¬ìš©í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.

![airbnb_1.jpg](airbnb_1.jpg)

## ì˜ˆì•½ë³„ ì²˜ë¦¬(ì²´í¬ì¸, ì²´í¬ì•„ì›ƒ)

í•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” ì˜ˆì•½ëœ ë‚  ë°ì´í„°ê°€ ì¡°ê¸ˆ ë‹¬ë¼ì•¼ í•˜ëŠ”ë°ìš”. ì˜ˆë¥¼ ë“¤ì–´ 4ì›” 11ì¼ì„ ì²´í¬ì¸ìœ¼ë¡œ, 4ì›” 13ì¼ì„ ì²´í¬ì•„ì›ƒìœ¼ë¡œ ì˜ˆì•½í•˜ê²Œ ëœë‹¤ë©´ í•´ë‹¹ ë‚ ì§œëŠ” ì˜ˆì•½ëœ ë‚ ë¡œ ë³€í•˜ê¸°ì— ëª¨ë‘ disabled ì‹œì¼œì•¼ í•œë‹¤ê³  ìƒê° ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ë‹¤ë¥¸ ì‚¬ëŒì´ ìœ„ì˜ ë‚ ì§œë¡œ ì˜ˆì•½í•˜ì˜€ì–´ë„ 10ì¼ ~ 11ì¼ì€ ì˜ˆì•½ ê°€ëŠ¥í•´ì•¼í•˜ê³  13ì¼ ~ 14ì¼ë„ ì˜ˆì•½ì´ ê°€ëŠ¥í•´ì•¼í•©ë‹ˆë‹¤. ì¦‰, ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ìº˜ë¦°ë”ë¥¼ ë³´ì•˜ì„ ë•Œ 11ì¼ì€ ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ , 12ì¼ì€ ì˜ˆì•½ ë¶ˆê°€ë¡œ í‘œì‹œë˜ì–´ì•¼í•˜ê³  ë‹¤ë¥¸ ë‚ ì€ ì œì•½ì´ ì—†ì–´ì•¼ í•œë‹¤ëŠ” ë§ê³¼ ë™ì¼í•©ë‹ˆë‹¤.

í•´ë‹¹ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•˜ì—¬ ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ì•¼í•©ë‹ˆë‹¤. ì•„ë˜ ì…ˆí”Œ ë°ì´í„°ëŠ” 11ì¼ ~ 13ì¼ì„ ì˜ˆì•½í•˜ì˜€ì„ì‹œì˜ ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ê°€ ë‚˜ì˜¨ë‹¤ê³  ê°€ì •í•´ë´…ì‹œë‹¤.

```json
 "reservationList" : [
  "20230411_PM",
  "20230412_AM",
  "20230412_PM",
  "20230413_AM",
]
```

- í•´ë‹¹ ë‚ ì§œì— PMë§Œ ìˆë‹¤ë©´ ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì§œì…ë‹ˆë‹¤.
- í•´ë‹¹ ë‚ ì§œì— AMë§Œ ìˆê±°ë‚˜ ì•„ë¬´ê²ƒë„ ì—†ë‹¤ë©´ ì˜ˆì•½ì´ ëª¨ë‘ ê°€ëŠ¥í•œ ë‚ ì…ë‹ˆë‹¤.
- í•´ë‹¹ ë‚ ì§œì— AM,PM ë‘˜ ë‹¤ ìˆë‹¤ë©´ ì˜ˆì•½ì´ ë¶ˆê°€ëŠ¥í•œ ë‚ ì…ë‹ˆë‹¤.

í•´ë‹¹ ë¡œì§ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•´ ë¨¼ì € ë‚ ì§œì™€ ì‹œê°„ í‘œì‹œë¥¼ ë¶„ë¦¬í•´ì•¼í•©ë‹ˆë‹¤.

```typescript
const splitReservationList = reservations.map((reservation) => reservation.split('_'));

OUTPUT: [
  ['20230411', 'PM'],
  ['20230412', 'AM'],
  ['20230412', 'PM'],
  ['20230413', 'AM'],
];
```

ë¶„ë¦¬ëœ `splitReservationList`ë¥¼ í†µí•´ ë‚ ì§œë¥¼ Keyë¡œ ì‹œê°„ í‘œì‹œë¥¼ Valueë¡œ ê°€ì§„ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤. í•´ë‹¹ ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ë©´ì„œ AM, PMì´ ê°™ì´ ë“¤ì–´ìˆë‹¤ë©´ ëª¨ë‘ ì˜ˆì•½ì´ ëë‹¤ëŠ” í‘œì‹œë¡œ Value ê°’ì„ ALLë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.

```typescript
const parseReservationList: { [key: string]: string } = {};

splitReservationList.map((splitReservation) => {
  if (parseReservationList[splitReservation[0]]) parseReservationList[splitReservation[0]] = 'ALL';
  else parseReservationList[splitReservation[0]] = splitReservation[1];
});

OUTPUT: parseReservationList = {
  '20230411': 'PM',
  '20230412': 'ALL',
  '20230413': 'AM',
};
```

ì™„ì„±ëœ ì˜¤ë¸Œì íŠ¸ì—ì„œ Value ê°’ì´ ALLì¸ ê²ƒê³¼ PMì¸ ê²ƒì„ ë¶„ë¦¬í•˜ì—¬ ì €ì¥í•©ë‹ˆë‹¤. AM ë°ì´í„°ëŠ” í•„ìš”ì—†ê¸° ë•Œë¬¸ì— ë”°ë¡œ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§ˆì§€ë§‰ìœ¼ë¡œ react-datepickerì— ê°’ì„ ë„£ê¸° ìœ„í•´ì„œëŠ” Date íƒ€ì…ì´ì–´ì•¼ í•˜ë¯€ë¡œ ìŠ¤íŠ¸ë§ íƒ€ì…ì„ Date íƒ€ì…ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

```typescript
const reservationAllList = Object.keys(parseReservationList).filter((key) => parseReservationList[key] === 'ALL');
const reservationPmList = Object.keys(parseReservationList).filter((key) => parseReservationList[key] === 'PM');

OUTPUT:
reservationAllList = ["20230412"]
reservationPmList  = ["20230411"]

const parseReservationAllList = reservationAllList.map((key) => parse(key, 'yyyyMMdd', new Date()));
const parseReservationPmList = reservationPmList.map((key) => parse(key, 'yyyyMMdd', new Date()));

OUTPUT:
parsereservationAllList = [Wed Apr 12 2023 00:00:00 GMT+0900 (ëŒ€í•œë¯¼êµ­ í‘œì¤€ì‹œ)]
parsereservationPmList = [Tue Apr 11 2023 00:00:00 GMT+0900 (ëŒ€í•œë¯¼êµ­ í‘œì¤€ì‹œ)]
```

### ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚  ì²˜ë¦¬

ì§€ê¸ˆê¹Œì§€ í•˜ì˜€ë‹¤ë©´ ê¸°ëŠ¥ì„ ì²˜ë¦¬í•˜ê¸° ìœ„í•œ ì‚¬ì „ì‘ì—…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì²´í¬ì¸ ë‚ ì§œê°€ ìœ„ì—ì„œ íŒŒì‹±í•œ `parseReservationPmList` ì— í¬í•¨ë˜ì–´ ìˆë‹¤ë©´ ê²½ê³  ë©”ì‹œì§€ ì²˜ë¦¬ í›„ ì²´í¬ì¸ ë‚ ì§œë¥¼ ì´ˆê¸°í™” ì‹œí‚µë‹ˆë‹¤. `handleChange`ì—ì„œ ë°›ëŠ” dates ë§¤ê°œë³€ìˆ˜ëŠ” [ì²´í¬ì¸, ì²´í¬ì•„ì›ƒ]ì¸ ë°°ì—´ì…ë‹ˆë‹¤.

```typescript
const [parseReservationAllList, parseReservationPmList] = handleReservationList(reservationList);

export const isInArray = (array: Date[], value: Date) => {
  return !!array.find((item) => {
    return item.getTime() == value.getTime();
  });
};

const handleChange = (dates: (Date | null)[]) => {
  if (dates[0] && isInArray(parseReservationPmList, dates[0])) {
    console.log('ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì§œ ì…ë‹ˆë‹¤.');
    setDateRange([null, null]);
  } else {
    setDateRange(dates);
  }
};

return(
<DatePicker
	...
	onChange={handleChage}
	...
>
...
</DatePicker>
)
```

### ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚  ìƒ‰ìƒ ë³€ê²½

react-datepickerì˜ dayClassName propsë¥¼ ì´ìš©í•˜ì—¬ ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì— checkout ì´ë¼ëŠ” í´ë ˆìŠ¤ ë„¤ì„ì„ ì¶”ê°€ì‹œí‚¤ê³  í•´ë‹¹ í´ë˜ìŠ¤ ë„¤ì„ì„ ì´ìš©í•˜ì—¬ íšŒìƒ‰ ìƒ‰ìƒìœ¼ë¡œ ë³€ê²½ì‹œí‚µë‹ˆë‹¤.

```typescript
//.css----
.checkout {
  color: #8e8e8e !important;
}
//--------
export const isInArray = (array: Date[], value: Date) => {
  return !!array.find((item) => {
    return item.getTime() == value.getTime();
  });
};

export const convertDateColor = (parseReservationPmList: Date[], date: Date) => {
	if (isInArray(parseReservationPmList, date)) return 'checkout';
	return '';
};

return(
<DatePicker
	...
	dayClassName={(date) => convertDateColor(date)}
	...
>
...
</DatePicker>
)
```

### ì˜ˆì•½ì´ ë¶ˆê°€ëŠ¥í•œ ë‚  ì²˜ë¦¬

react-datepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ excludeDates propsë¥¼ ì´ìš©í•˜ì—¬ ì˜ˆì•½ì´ ë¶ˆê°€ëŠ¥í•œ ë‚ ì§œë¥¼ disabledì‹œí‚µë‹ˆë‹¤.

```typescript
const [parseReservationAllList, parseReservationPmList] = handleReservationList(reservationList);

return(
<DatePicker
	...
	excludeDates={parseReservationAllList}
	...
>
...
</DatePicker>
)
```

[ì˜ˆì•½ ì „]

![airbnb_2.jpg](airbnb_2.jpg)

[ì˜ˆì•½ í›„]

![airbnb_3.jpg](airbnb_3.jpg)

## tooltipìœ¼ë¡œ í‘œì‹œ

ì—ì–´ë¹„ì•¤ë¹„ì—ì„œëŠ” ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì— hoverì‹œ tooltipìœ¼ë¡œ í‘œì‹œí•©ë‹ˆë‹¤. ë˜í•œ ì²´í¬ì•„ì›ƒ ë‚ ì„ í´ë¦­í•  ë•ŒëŠ” í‘œì‹œë˜ì§€ ì•Šê³  ì²´í¬ì¸ ë‚ ì„ í´ë¦­í•  ë•Œë§Œ ì•Œë ¤ì¤ë‹ˆë‹¤.

í•´ë‹¹ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ì„œëŠ” HTML íƒœê·¸ ìì²´ì˜ tooltipì„ ì‚¬ìš©í•  ìˆ˜ë„ ìˆì§€ë§Œ, ê·¸ë ‡ê²Œ í•œë‹¤ë©´ ì»¤ìŠ¤í…€ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤. ê·¸ë ‡ê¸°ì— ì €ëŠ” CSSë¥¼ í™œìš©í•˜ì—¬ tooltip ê¸°ëŠ¥ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. ë§Œë“  tooltip ê¸°ëŠ¥ì„ React-datepicker ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ renderDayContents propsë¥¼ ì´ìš©í•˜ì—¬ ì‚½ì…í•©ë‹ˆë‹¤.

```typescript
const [dateRange, setDateRange] = useState<(Date | null)[]>([]);
const [startDate, endDate] = dateRange;
const [parseReservationAllList, parseReservationPmList] = handleReservationList(reservationList);

const isInArray = (array: Date[], value: Date) => {
  return !!array.find((item) => {
    return item.getTime() == value.getTime();
  });
};

const renderDayContents = (day: number, date: Date) => {
  return (
    <>
      <div className="group w-full relative inline-block duration-300">
        <span className="text-sm">{getDate(date)}</span>
        {!startDate && isInArray(parseReservationPmList, date) && (
          <span className="absolute hidden group-hover:flex -left-10 -top-2 -translate-y-full w-25 px-2 py-1 bg-gray-700 rounded-lg text-center text-white text-sm">
            ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥
          </span>
        )}
      </div>
    </>
  );
};

return(
<DatePicker
	...
	renderDayContents={renderDayContents}
	...
>
...
</DatePicker>
)
```

![airbnb_4.jpg](airbnb_4.jpg)

## ì˜ˆì•½ëœ ë‚ ì´ í¬í•¨ë˜ì§€ ëª»í•˜ë„ë¡ ì„¤ì •

ì²´í¬ì¸ ë‚ ê³¼ ì²´í¬ì•„ì›ƒ ë‚  ì‚¬ì´ì—ëŠ” ì´ë¯¸ ì˜ˆì•½ëœ ë‚ ì´ í¬í•¨ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ë ‡ê¸°ì— ì²´í¬ì¸ ë‚ ì„ ì…ë ¥í•˜ì˜€ì„ ì‹œ, ì²´í¬ì¸ ë‚ ì§œì™€ ê°€ì¥ ê°€ê¹Œìš´ ì´ë¯¸ ì˜ˆì•½ëœ ë‚  ë’¤ë¡œëŠ” ì „ë¶€ disabledì‹œì¼œ í¬í•¨ë˜ì§€ ëª»í•˜ë„ë¡ í•´ì•¼í•©ë‹ˆë‹¤.

```typescript
const [parseReservationAllList, parseReservationPmList] = handleReservationList(reservationList);
const [maxDate, setMaxDate] = useState<Date>();

const calculateMaxDate = (parseReservationAllList: Date[], currentDateList: (Date | null)[]) => {
  const maxDateList: (Date | undefined)[] = [];

  parseReservationAllList.map((reservation) => {
    if ((currentDateList[0] as Date) > reservation) return;
    maxDateList.push(reservation);
  });

  if (currentDateList[1] !== null || maxDateList.length < 1) return;

  return min(maxDateList as Date[]);
};

const handleChange = (dates: (Date | null)[]) => {
    setMaxDate(calculateMaxDate(parseReservationAllList, dates));
};

return(
<DatePicker
	...
	onChange={handleChange}
	maxDate={maxDate}
	...
>
...
</DatePicker>
)
```

[ì²´í¬ì¸ ì…ë ¥ ì „ í™”ë©´]

![airbnb_5.jpg](airbnb_5.jpg)

[ì²´í¬ì¸ ì…ë ¥ í›„ í™”ë©´]

![airbnb_6.jpg](airbnb_6.jpg)

## ë§ˆì¹˜ë©°

ì§€ê¸ˆê¹Œì§€ ì—ì–´ë¹„ì•¤ë¹„ì˜ ë‹¬ë ¥ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì„¤ëª…í•´ ë³´ì•˜ìŠµë‹ˆë‹¤. ì²´í¬ì•„ì›ƒë§Œ ê°€ëŠ¥í•œ ë‚ ì§œë¥¼ ì²˜ë¦¬í•˜ê³ , ì˜ˆì•½ì´ ë¶ˆê°€ëŠ¥í•œ ë‚ ì§œë¥¼ disabled ì‹œí‚¤ëŠ” ë“± ì—¬ëŸ¬ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•´ ë³´ì•˜ëŠ”ë°ìš”. ì´ ê¸€ì„ í†µí•´ ì—ì–´ë¹„ì•¤ë¹„ì˜ ë‹¬ë ¥ êµ¬í˜„ì— ëŒ€í•´ ì´í•´í•˜ëŠ” ë° ë„ì›€ì´ ë˜ê¸¸ ë°”ëë‹ˆë‹¤. í•´ë‹¹ í¬ìŠ¤íŠ¸ë¥¼ ì“°ë©° ì‘ì„±í•œ ì½”ë“œëŠ” ì•„ë˜ì˜ ë§í¬ì— ì²¨ë¶€í•´ ë“œë¦¬ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤. ê¸´ ê¸€ ì½ì–´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.

## ë§í¬

[í¬ìŠ¤íŠ¸ ê´€ë ¨ ì†ŒìŠ¤](https://github.com/S-jooyoung/react-datepicker-reservation)

[react-datepicker ê³µì‹ ì‚¬ì´íŠ¸](https://reactdatepicker.com/)

[date-fns ê³µì‹ ì‚¬ì´íŠ¸](https://date-fns.org/)

<br/>
